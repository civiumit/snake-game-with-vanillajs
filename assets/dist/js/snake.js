(()=>{"use strict";var e={red:"#ff0000",green:"#00ff00",blue:"#0000ff",yellow:"#ffff00",purple:"#ff00ff",orange:"#ffa500",pink:"#ffc0cb",cyan:"#00ffff",magenta:"#ff00ff",yellowgreen:"#9acd32",black:"#000000",white:"#ffffff",colorfull:function(){var e=Object.values(this);return e[Math.floor(Math.random()*e.length)]}},n={fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Ubuntu, Helvetica Neue, Oxygen, Cantarell, sans-serif",size:{sm:"12px",md:"14px",lg:"18px",xl:"24px"},getFont:function(e){return"".concat(this.size[e]," ").concat(this.fontFamily)}},t=document.getElementById("game"),a=t.getContext("2d"),o={game:{score:0,speed:8},canvas:{columnCount:20,columnSize:t.width/20,width:t.width,height:t.height},snake:{background:e.yellowgreen,stroke:e.black,lineWidth:2,snakeParts:[],snakeLength:0},scoreText:{fillStyle:e.white,font:n.getFont("sm"),textAlign:"left",text:function(){return"Score: ".concat(o.game.score)}},gameOver:{title:{fillStyle:e.white,font:n.getFont("lg"),textAlign:"center",text:function(){return"SCORE: ".concat(o.game.score)}},description:{fillStyle:e.white,font:n.getFont("sm"),textAlign:"center",text:function(){return"Press Space to restart"}}}},l={x:Math.floor(Math.random()*o.canvas.columnCount),y:Math.floor(Math.random()*o.canvas.columnCount)},c={x:Math.floor(Math.random()*o.canvas.columnCount),y:Math.floor(Math.random()*o.canvas.columnCount)},s={x:0,y:0},i=function(){h(),f(),u(),a.fillStyle=o.scoreText.fillStyle,a.textAlign=o.scoreText.textAlign,a.font=o.scoreText.font,a.fillText(o.scoreText.text(),10,20),m(),v()},r=setInterval(i,1e3/o.game.speed),f=function(){for(a.fillStyle=o.snake.background,a.strokeStyle=o.snake.stroke,a.lineWidth=o.snake.lineWidth,a.strokeRect(l.x*o.canvas.columnCount,l.y*o.canvas.columnCount,o.canvas.columnSize,o.canvas.columnSize),a.fillRect(l.x*o.canvas.columnCount,l.y*o.canvas.columnCount,o.canvas.columnSize,o.canvas.columnSize),o.snake.snakeParts.map((function(e){a.fillStyle=o.snake.background,a.strokeStyle=o.snake.stroke,a.lineWidth=o.snake.lineWidth,a.strokeRect(e.x*o.canvas.columnCount,e.y*o.canvas.columnCount,o.canvas.columnSize,o.canvas.columnSize),a.fillRect(e.x*o.canvas.columnCount,e.y*o.canvas.columnCount,o.canvas.columnSize,o.canvas.columnSize)})),o.snake.snakeParts.push({x:l.x,y:l.y});o.snake.snakeParts.length>o.snake.snakeLength;)o.snake.snakeParts.shift();l.x+=s.x,l.y+=s.y},u=function(){a.fillStyle=e.colorfull(),a.fillRect(c.x*o.canvas.columnCount,c.y*o.canvas.columnCount,o.canvas.columnSize,o.canvas.columnSize)},m=function(){l.x===c.x&&l.y===c.y&&(o.snake.snakeLength++,o.game.score++,c.x=Math.floor(Math.random()*o.canvas.columnCount),c.y=Math.floor(Math.random()*o.canvas.columnCount))},h=function(){a.fillStyle="black",a.fillRect(0,0,o.canvas.width,o.canvas.height)},v=function(){(l.x<0||l.x>=o.canvas.columnCount||l.y<0||l.y>=o.canvas.columnCount||o.snake.snakeParts.some((function(e){return e.x===l.x&&e.y===l.y})))&&(a.fillStyle=o.gameOver.title.fillStyle,a.font=o.gameOver.title.font,a.textAlign=o.gameOver.title.textAlign,a.fillText(o.gameOver.title.text(),o.canvas.width/2,o.canvas.height/2),a.fillStyle=o.gameOver.description.fillStyle,a.font=o.gameOver.description.font,a.textAlign=o.gameOver.description.textAlign,a.fillText(o.gameOver.description.text(),o.canvas.width/2,o.canvas.height/2+30),clearInterval(r))};addEventListener("keydown",(function(e){return x(e)}));var x=function(e){switch(e.keyCode){case 37:1!==s.x&&(s.x=-1),s.y=0;break;case 38:s.x=0,1!==s.y&&(s.y=-1);break;case 39:-1!==s.x&&(s.x=1),s.y=0;break;case 40:s.x=0,-1!==s.y&&(s.y=1);break;case 32:clearInterval(r),o.snake.snakeParts=[],o.snake.snakeLength=0,l.x=Math.floor(Math.random()*o.canvas.columnCount),l.y=Math.floor(Math.random()*o.canvas.columnCount),c.x=Math.floor(Math.random()*o.canvas.columnCount),c.y=Math.floor(Math.random()*o.canvas.columnCount),s.x=0,s.y=0,o.game.score=0,r=setInterval(i,1e3/o.game.speed)}}})();